sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onBeforeRendering:function(){this.getView().byId(this.byId("Carga_ExelButton").getId()).setIcon("sap-icon://upload")},Carga_Exel:function(e){var t=new sap.m.Dialog({contentWidth:"400px"+
,resizable:true});t.setTitle("Carregar arquivo Excel");var a="/sap/opu/odata/sap/ZMM_ARVORE_MERCADOLOGICA_SRV/";var s=new sap.ui.model.odata.ODataModel(a,false);var r=a+"CargaArvoreMercSet";var i=new sap.ui.unified.FileUploader({width:"100%",fileType:["c+
sv"],typeMissmatch:this.handleTypeMissmatch,uploadComplete:function(e){var a=this.oView.sId+"--responsiveTable";var s=this.byId(a);s.getModel().refresh(true);t.close();t.destroy();if(e.mParameters.status=="200"||e.mParameters.status=="201"){sap.m.Message+
Toast.show("Carga realizada com sucesso.")}else{if(e.mParameters.response){alert("Return Code: "+e.mParameters.response,"Response","Response")}}}.bind(this)});i.setName("Simple Uploader");i.setUploadUrl(r);i.setSendXHR(true);i.setUseMultipart(false);i.se+
tUploadOnChange(false);var n=new sap.ui.unified.FileUploaderParameter({name:"x-csrf-token",value:s.getSecurityToken()});i.insertHeaderParameter(n);var o=new sap.m.Button({text:"Upload",type:"Accept",press:function(){var e=i.getFocusDomRef();var t=e.files+
[0];if(i.getValue()===""){sap.m.MessageToast.show("Favor selecionar um arquivo");return}var a=new sap.ui.unified.FileUploaderParameter({name:"Content-Type",value:t.type});i.insertHeaderParameter(a);i.insertHeaderParameter(new sap.ui.unified.FileUploaderP+
arameter({name:"SLUG",value:i.getValue()}));i.upload()}.bind(this)});var l=new sap.m.Button({text:"Cancelar",type:"Reject",press:function(){t.close();t.destroy();this.getView().removeAllDependents()}.bind(this)});t.addContent(i);t.setBeginButton(l);t.set+
EndButton(o);t.open()},handleTypeMissmatch:function(e){var t=e.getSource().getFileType();jQuery.each(t,function(e,a){t[e]="*."+a});var a=t.join(", ");sap.m.MessageToast.show("Tipo de arquivo *."+e.getParameter("fileType")+" nao ? suportado. Escolha um do+
s tipos a seguir: "+a)},setData:function(){let e=this.getView().byId("listReportFilter").getFilters();var t=this.getView().getModel();let a=this.templateBaseExtension.getExtensionAPI().getSelectedContexts();return new Promise((a,s)=>{t.read("/ZC_MM_ARVOR+
E_MERCADORIA",{filters:e,success:function(e,t){a(e)},error:function(e){s(e)}})})}}});                                                                                                                                                                          
//# sourceMappingURL=newFile.js.map                                                                                                                                                                                                                            